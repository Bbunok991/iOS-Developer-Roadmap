**–ó–∞–º—ã–∫–∞–Ω–∏–µ** - —ç—Ç–æ –±–ª–æ–∫ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç –≤ —Ñ—É–Ω–∫—Ü–∏—é –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ–∑–∂–µ. –ó–∞–º—ã–∫–∞–Ω–∏—è –≤ swift –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏—è–º–∏, –Ω–æ –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ (closure expressions). –û–Ω–∏ –ø–æ—Ö–æ–∂–∏ –Ω–∞ –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–æ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –±–µ–∑ –∏–º–µ–Ω–∏, –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é.

–ù–∞–ø—Ä–∏–º–µ—Ä, —Ñ—É–Ω–∫—Ü–∏—è **map** –º–∞—Å—Å–∏–≤–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–º—ã–∫–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–∞–∂–¥–æ–µ —á–∏—Å–ª–æ –≤ 2 —Ä–∞–∑–∞:

```
let numbers = [1, 2, 3, 4, 5]

let doubledNumbers = numbers.map { $0 * 2 }
```

–ó–∞–º—ã–∫–∞–Ω–∏–µ –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–æ–º –≤–∏–¥–µ, –∏—Å–ø–æ–ª—å–∑—É—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å **closure expression**:

```
reversedNames = names.sorted(by: { (s1: String, s2: String) -> Bool in
    return s1 > s2
})
```

# non-escaping closure

–ó–∞–º—ã–∫–∞–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–±–æ–∑–Ω–∞—á–µ–Ω–æ –∫–∞–∫ **`non-escaping`**, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–æ –ø–æ–∑–∂–µ, –∫–æ–≥–¥–∞ —Ñ—É–Ω–∫—Ü–∏—è, –≤ –∫–æ—Ç–æ—Ä—É—é –æ–Ω–æ –±—ã–ª–æ –ø–µ—Ä–µ–¥–∞–Ω–æ, —É–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. 

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∑–∞–º—ã–∫–∞–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç "–≤—ã–±—Ä–∞—Ç—å—Å—è –∏–∑" —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏. –û–±—ã—á–Ω–æ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ –∑–∞–º—ã–∫–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –Ω–µ –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–µ–≥–æ –≤–Ω–µ —Ñ—É–Ω–∫—Ü–∏–∏.

–û–±–æ–∑–Ω–∞—á–µ–Ω–∏–µ **`non-escaping`**  –∑–∞–º—ã–∫–∞–Ω–∏—è —Ç–∞–∫–∂–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É, —á—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ, —á—Ç–æ –º–æ–∂–µ—Ç –ø–æ–º–æ—á—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥.

–í–æ—Ç –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ –º–æ–∂–Ω–æ –æ–±–æ–∑–Ω–∞—á–∏—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏–µ –∫–∞–∫ **`non-escaping`**:

```
func someFunction(closure: () -> Void) {
    // —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∑–∞–º—ã–∫–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è
}

someFunction {
    // —ç—Ç–æ –Ω–µ-–≤—ã–±—Ä–∞—Å—ã–≤–∞—é—â–µ–µ—Å—è –∑–∞–º—ã–∫–∞–Ω–∏–µ
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `non-escaping` closure –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω, —á—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ –Ω–µ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–æ –ø–æ–∑–∂–µ, –∏ –Ω–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ –Ω–µ–Ω—É–∂–Ω–æ–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è –µ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è.

> üéì
>
> –°–æ–¥–µ—Ä–∂–∏–º–æ–µ `non-escaping` closure —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å—Ç–µ–∫–µ –ø–∞–º—è—Ç–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–æ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, 
> –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –µ–≥–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç, –∑–∞–≤–µ—Ä—à–∏–ª–∞ —Å–≤–æ—é —Ä–∞–±–æ—Ç—É. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–∞–∫ —Ç–æ–ª—å–∫–æ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É, 
> –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –≤–∫–ª—é—á–∞—è non-escaping closure, —É–¥–∞–ª—è—é—Ç—Å—è –∏–∑ —Å—Ç–µ–∫–∞.

# escaping closure

–≠—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–æ **–ø–æ—Å–ª–µ —Ç–æ–≥–æ**, –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –µ–≥–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç, –∑–∞–≤–µ—Ä—à–∏–ª–∞ —Å–≤–æ—é —Ä–∞–±–æ—Ç—É. –¢–æ –µ—Å—Ç—å —ç—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ "–≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –Ω–∞—Ä—É–∂—É" –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–æ –≤ –±—É–¥—É—â–µ–º.

–ß—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è escaping, –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ **`@escaping`** –ø–µ—Ä–µ–¥ —Ç–∏–ø–æ–º –∑–∞–º—ã–∫–∞–Ω–∏—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä:

```
func someFunction(@escaping closure: () -> Void) {
    // —Ç–µ–ª–æ —Ñ—É–Ω–∫—Ü–∏–∏
}
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ escaping closure –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–≤–µ—Ä—à–∏—Ç —Å–≤–æ—é —Ä–∞–±–æ—Ç—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å 
–Ω–µ–∫–æ—Ç–æ—Ä—É—é —Ä–∞–±–æ—Ç—É –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, –∞ –∑–∞—Ç–µ–º –≤—ã–∑–≤–∞—Ç—å escaping closure, —á—Ç–æ–±—ã —É–≤–µ–¥–æ–º–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö.

> üéì
> 
> `Escaping closure` —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫—É—á–µ, —Ç–∞–∫ –∫–∞–∫ –æ–Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–∑–≤–∞–Ω–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –µ–≥–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç, –∑–∞–≤–µ—Ä—à–∏–ª–∞ —Å–≤–æ—é —Ä–∞–±–æ—Ç—É.

# –ü–æ—á–µ–º—É –Ω–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å escaping closures –≤ SwiftUI

–í **Swift 5.1** –ø–æ—è–≤–∏–ª–∞—Å—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç—ã –≤ –Ω–µ—á—Ç–æ –µ–¥–∏–Ω–æ–µ —Ü–µ–ª–æ–µ –≤ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–º —Å—Ç–∏–ª–µ. 
–≠—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ –º–∞—Å—Å–∏–≤ –≤–Ω—É—Ç—Ä–∏¬†closure-–±–ª–æ–∫–∞, –æ–¥–Ω–∞–∫–æ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç—Å—è —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –±–µ–∑ –∑–∞–ø—è—Ç—ã—Ö –∏¬†return. 
–î–∞–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –Ω–∞–∑–≤–∞–ª–∏¬†Function Builder. –≠—Ç–æ –Ω–∞—à–ª–æ —à–∏—Ä–æ–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ SwiftUI. 
–ù–∞ –æ—Å–Ω–æ–≤–µ¬†`Function Builder` —Å–¥–µ–ª–∞–ª–∏¬†`ViewBuilder` ‚Äî –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞. 
–ò—Å–ø–æ–ª—å–∑—É—è¬†`ViewBuilder` –Ω–∞–º –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å¬†`addSubview` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ ‚Äì –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –≤—Å–µ¬†
`View` —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –≤–Ω—É—Ç—Ä–∏¬†closure-–±–ª–æ–∫–∞. SwiftUI —Å–∞–º –¥–æ–±–∞–≤–∏—Ç –∏ —Å–≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –≤ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

```
@available(iOS 13.0, OSX 10.15, tvOS 13.0, watchOS 6.0, *)
@_functionBuilder public struct ViewBuilder {

    /// Builds an empty view from an block containing no statements, `{ }`.
    public static func buildBlock() -> EmptyView

    /// Passes a single view written as a child view (e..g, `{ Text("Hello") }`) through
    /// unmodified.
    public static func buildBlock<Content>(_ content: Content) -> Content where Content : View
} 
```

–ö–∞–∫ –ø—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
```
struct Collapsable<Content: View>: View {
  @State var collapsed = false

  init(@ViewBuilder content: () -> Content) {
    // ...
  }

  var body: some View {
    VStack {
      if !collapsed {
        // content...
      }
      Button(collapsed ? "‚Üì open" : "‚Üë close") {
        collapsed.toggle()
      }
    }
  }
}
```

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:

```
var body: some View {
  // ...
  Collapsable {
    ExtraOptions()
  }
}
```

–ü—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `Collapsable` –≤—å—é –µ—Å—Ç—å –≤—ã–±–æ—Ä –µ–≥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏. –õ–∏–±–æ —ç—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—å—é—Ö—É –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∏ —Ö—Ä–∞–Ω–∏—Ç `content` –≤–Ω—É—Ç—Ä–∏ –≤—å—é. 
–õ–∏–±–æ —ç—Ç–æ `escaping closure`.

```
// –ü–æ–¥—Ö–æ–¥ # 1
struct Collapsable<Content: View>: View {
  let content: Content

  init(@ViewBuilder content: () -> Content) {
    self.content = content()
  }

  // ...
}

// –ü–æ–¥—Ö–æ–¥ # 2
struct Collapsable<Content: View>: View {
  let content: () -> Content

  init(@ViewBuilder content: @escaping () -> Content) {
    self.content = content
  }

  // ...
}
```

–ü–æ–¥—Ö–æ–¥ #2 –Ω–∞ –ø—Ä–µ–≤—ã–π –≤–∑–≥–ª—è–¥ –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å—Å—è –≤–µ—Å—å–º–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `content` —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –Ω–∞–º —ç—Ç–æ –Ω—É–∂–Ω–æ.

# SwiftUI views as functions.

–ú—ã –¥—É–º–∞–µ–º –æ –∑–∞–º—ã–∫–∞–Ω–∏—è—Ö –∫–∞–∫ –æ —Ñ—É–Ω–∫—Ü–∏—è—Ö, –Ω–æ **view** –≤ SwiftUI –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ¬†*—Ç–∞–∫–∂–µ* —è–≤–ª—è—é—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏—è–º–∏.¬†–í—Ö–æ–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —è–≤–ª—è—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∫–∞–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–µ, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑ –Ω–∏—Ö —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è SwiftUI –∏ —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ø—Ä–æ–ø–µ—Ä—Ç–∏ –≤—Ä–∞–ø–ø–µ—Ä–æ–≤, –∫–∞–∫ –ø—Ä–∏–º–µ—Ä -¬†`@State`.¬†–†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è SwiftUI, —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º–æ–≥–æ –∫–∞–∫ —Ñ—É–Ω–∫—Ü–∏—è, —è–≤–ª—è–µ—Ç—Å—è **body**.¬†

**View** –≤ SwiftUI –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –Ω–∏–∫–∞–∫–æ–π —Ä–∞–±–æ—Ç—ã —Å–∞–º–∏ –ø–æ —Å–µ–±–µ, –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è SwiftUI, –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –µ–º—É –Ω—É–∂–Ω—ã **view** - —ç—Ç–æ –∫–æ–≥–¥–∞ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –∏ –µ–º—É –Ω—É–∂–Ω–æ –∑–Ω–∞—Ç—å, –∫–∞–∫–∞—è **output view** —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —ç—Ç–∏–º **input view**.

https://www.hackingwithswift.com/quick-start/swiftui/all-swiftui-property-wrappers-explained-and-compared

–ï—Å–ª–∏ —Å—Ä–∞–≤–Ω–∏—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏–µ –∏ SwiftUI view –≤ –ø–∞–º—è—Ç–∏ runtime –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è, —Ç–æ –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ, —á—Ç–æ –æ–Ω–∏ –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂–∏. SwiftUI view –≤ runtime‚Äôe –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –ø—Ä–æ—Å—Ç–æ –Ω–∞–±–æ—Ä –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–º–∏ –æ–Ω–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è, –∏ —Å—Å—ã–ª–∫—É –Ω–∞ –∏—Ö body. –ó–∞–º—ã–∫–∞–Ω–∏—è –≤ runtim‚Äôe –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–æ–±–æ–π –Ω–∞–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—Ç, –∏ —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é.

**SwiftUI** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–º–µ—Å—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–π, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–º–∏ **SwiftUI** —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏–∑–≤–Ω–µ. –ù–æ –µ—â–µ –æ–¥–Ω–∞ –ø—Ä–∏—á–∏–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π **SwiftUI** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤–º–µ—Å—Ç–æ –∑–∞–º—ã–∫–∞–Ω–∏–π –¥–ª—è **view**, –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–µ—Ä—å–µ–∑–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é, —á—Ç–æ–±—ã **–ø–µ—Ä–µ–æ—Ü–µ–Ω–∏–≤–∞—Ç—å body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏** —Å—Ç–æ–ª—å–∫–æ —Ä–∞–∑, —Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. 

–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ñ—É–Ω–∫—Ü–∏–π, –º–Ω–æ–≥–∏–µ –∏–∑ —ç—Ç–∏—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –∏–º–µ—é—Ç –∏–º–µ–Ω–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, SwiftUI –º–æ–∂–µ—Ç –ø—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ –Ω–µ **–ø–µ—Ä–µ–æ—Ü–µ–Ω–∏–≤–∞—Ç—å body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏**, –µ—Å–ª–∏ –µ–≥–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å, —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è [memoization](https://en.wikipedia.org/wiki/Memoization).

# Lazy without closures

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –ø–æ—á–µ–º—É –∞–Ω–∞–ª–æ–≥–∏—è view –∏ —Ñ—É–Ω–∫—Ü–∏–π –ø–æ–ª–µ–∑–Ω–∞, –∏ —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –ø–æ—á–µ–º—É –ø–æ–¥—Ö–æ–¥ #1 –Ω–µ–ø–ª–æ—Ö–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –≤–∑–≥–ª—è–Ω—É—Ç—å –Ω–∞ `NavigationLink` –∏ –Ω–∞ —Ç–æ, –∫–∞–∫ –º—ã –º–æ–∂–µ–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –µ–≥–æ `destination`.

```
NavigationLink("Details", destination: DetailsView())
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ **DetailsView** —É–∂–µ —Å–æ–∑–¥–∞–Ω –≤ –º–æ–º–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞—à–µ–π NavigationLink, —Ä–∞–∑–≤–µ —ç—Ç–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ? –ü—Ä–∏—á–∏–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π —ç—Ç–æ –Ω–µ —Ç–∞–∫, –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ **destination** —è–≤–ª—è–µ—Ç—Å—è –≤—å—é —ç–ª–µ–º–µ–Ω—Ç–æ–º, –∏ —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, —É–∂–µ —è–≤–ª—è–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π. –ï–≥–æ **output** - —ç—Ç–æ **body** –∏ –æ–Ω –Ω–µ –±—É–¥–µ—Ç **–æ—Ü–µ–Ω–∏–≤–∞—Ç—å —Å–≤–æ–π body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏**, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω.

–ú–æ–∂–Ω–æ –ø–æ–¥—É–º–∞—Ç—å, —á—Ç–æ —ç—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è, –∫–æ–≥–¥–∞ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π **DetailView**, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ******************viewModel******************, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ç–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏, –Ω–æ —ç—Ç–æ –Ω–µ —Ç–∞–∫. **ObservableObject** –ø–æ—Å—Ç—É–ø–∞–µ—Ç –∏–∑–≤–Ω–µ, –∏ –µ—Å–ª–∏ view –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **viewModel** –∫–∞–∫ **@StateObject**, —Ç–æ —Ç–æ–≥–¥–∞ **viewModel** –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ωa **view**. –≠—Ç–æ –æ–¥–Ω–∞ –∏–∑ –ø—Ä–∏—á–∏–Ω, –ø–æ –∫–æ—Ç–æ—Ä–æ–π **StateObject** –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å [autoclosure](https://developer.apple.com/documentation/swiftui/stateobject/init(wrappedvalue:)).

–¢–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ **destination** —É **NavigationLink** –Ω–µ **–æ—Ü–µ–Ω–∏–≤–∞–µ—Ç —Å–≤–æ–π body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏** –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è. –°–æ–¥–µ—Ä–∂–∏–º–æ–µ **Collapsable** –≤ –ø–æ–¥—Ö–æ–¥–µ #1 –ø–æ—Å—Ç—É–ø–∏—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ - –Ω–µ –±—É–¥–µ—Ç **–æ—Ü–µ–Ω–∏–≤–∞—Ç—å —Å–≤–æ–π body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏**, –ø–æ–∫–∞ –Ω–µ –æ—Ç–æ–±—Ä–æ–∑–∏—Ç—Å—è. –í –æ–±–æ–∏—Ö –ø–æ–¥—Ö–æ–¥–∞—Ö –Ω–∞–º –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **content**, –∏ –∑–Ω–∞—Ç—å –∫–∞–∫–æ–µ **body** –≤—ã—á–∏—Å–ª—è—Ç—å –¥–ª—è —ç—Ç–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö. –•—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏—è –Ω–∞—Å –Ω–∏ –æ—Ç —á–µ–≥–æ –Ω–µ —Å–ø–∞—Å–∞–µ—Ç.

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π Collapsable —ç–ª–µ–º–µ–Ω—Ç–∞

–í –ø–æ–¥—Ö–æ–¥–µ #2 —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ **Collapsable** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∑–∞–º—ã–∫–∞–Ω–∏–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è **content**. –ò–∑-–∑–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—É—é SwiftUI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è view, –ø–æ–¥—Ö–æ–¥ ‚Ññ2 –∏–º–µ–µ—Ç –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–π –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –ø–æ–±–æ—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç.

–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∏–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ view –¥–ª—è Collapsable, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ–¥—Ö–æ–¥–∞ #1:

```
struct Collapsable<Content: View>: View {
  @State var collapsed: Bool = true
    let content: Content
    
    init(@ViewBuilder content: () -> Content) {
        self.content = content()
    }
    
    var body: some View {
        VStack {
            if !collapsed {
                content
            }
            Button(collapsed ? "‚Üì open" : "‚Üë close") {
                collapsed.toggle()
            }
        }
    }
}
```

–†–µ–∞–ª–∏–∑—É–µ–º —ç—Ç–æ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç —Ç–∞–∫, —á—Ç–æ–±—ã –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–≤–µ—Ä–Ω—É—Ç—å - —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∏ —É–≤–µ–ª–∏—á–∏—Ç—å:

```
struct ContentView: View {
  @State var value: Int = 0
    
    var body: some View {
        VStack {
            Collapsable {
                Text("Value: \(value)")
            }
            Button("Increase") { value += 1 }
        }
    }
}
```

–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø–æ–ª–æ–∂–µ–Ω–æ - –Ω–∞–∂–∞—Ç–∏–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —É–≤–µ–ª–∏—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Å–∫—Ä—ã—Ç—å –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å.

–¢–µ–ø–µ—Ä—å –≤—Å—ë —Ç–æ–∂–µ —Å–∞–º–æ–µ, —Ç–æ–ª—å–∫–æ —Ä–µ—à–µ–Ω–∏–µ #2:

```
struct Collapsable<Content: View>: View {
  @State var collapsed: Bool = true
  let content: () -> Content

  init(@ViewBuilder content: @escaping () -> Content) {
    self.content = content
  }

  var body: some View {
    VStack {
      if !collapsed {
        content()
      }
      Button(collapsed ? "‚Üì open" : "‚Üë close") {
        visible.toggle()
      }
    }
  }
}
```

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏–∏ #2 –ø–æ—è–≤–∏–ª–∞—Å—å –æ—à–∏–±–∫–∞. –û–±—ã—á–Ω–æ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –Ω–æ –µ—Å–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ **Collapsable** **view** –±—É–¥–µ—Ç —Ä–∞—Å–∫—Ä—ã—Ç–∞ –≤ **–ø–µ—Ä–≤—ã–π —Ä–∞–∑**, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ - —É–≤–∏–¥–∏–º –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ **0**. –ï—Å–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –µ—â—ë —Ä–∞–∑, –æ–Ω–æ –ø–µ—Ä–µ–ø—Ä—ã–≥–Ω–µ—Ç —Å 0 –Ω–∞ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞.

**–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏—á–∏–Ω–æ–π** —ç—Ç–æ–π –æ—à–∏–±–∫–∏ —è–≤–ª—è–µ—Ç—Å—è –µ—â–µ –æ–¥–Ω–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è **SwiftUI**: –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è **@State** –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ **–æ—Ü–µ–Ω–∏–≤–∞–Ω–∏–∏ —Å–≤–æ–µ–≥–æ body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏**, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç **–æ—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏** –≤—å—é—Ö–∏ –∏ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ —ç—Ç–æ–≥–æ **view** –¥–æ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π. –≠—Ç–æ —É–º–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –∏ –æ–Ω–∞ —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–º–µ—Å—Ç–µ —Å –º–µ–º–æ–∏–∑–∞—Ü–∏–µ–π:

> –ï—Å–ª–∏ –≤—Ö–æ–¥–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, view –Ω–µ –Ω—É–∂–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π. –ö–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, view –Ω—É–∂–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏, —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–∑–º–µ–Ω–∏–ª–∞—Å—å.

–ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ. –ö–æ–≥–¥–∞ –º—ã **–æ—Ü–µ–Ω–∏–≤–∞–µ–º** **body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏** –≤ –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –∏ —Ç–µ–∫—Å—Ç —Å–≤–µ—Ä–Ω—É—Ç - –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è **@State** –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –ø–æ—ç—Ç–æ–º—É –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –æ–Ω–∞ –Ω–µ –Ω—É–∂–Ω–∞ –ø—Ä–∏ **–æ—Ü–µ–Ω–∏–≤–∞–Ω–∏–∏ body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏**. –ö–æ–≥–¥–∞ –º—ã —Ä–∞—Å—à–∏—Ä—è–µ–º —Ç–µ–∫—Å—Ç, **@State** –≤–Ω–µ–∑–∞–ø–Ω–æ —Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è, –¥–∞–∂–µ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ —Å–∞–º **ContentView** –Ω–µ **–æ—Ü–µ–Ω–∏–≤–∞–µ—Ç** **body** –ø–æ–≤—Ç–æ—Ä–Ω–æ, –∞ **@State** –Ω–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.

–ï—Å—Ç—å —Å–ø–æ—Å–æ–±—ã –∏—Å–ø—Ä–∞–≤–∏—Ç—å —ç—Ç—É –æ—à–∏–±–∫—É, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –Ω–∞—à **content** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–∞–º—ã–∫–∞–Ω–∏—è, –Ω–æ —Å–µ–π—á–∞—Å –∏–¥–µ—Ç –±–æ—Ä—å–±–∞ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ **SwiftUI.**

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏–π –∏ –≤—ã–≤–æ–¥
–ï—Å–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ, –∫–∞–∫ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è `body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏` Collapsable, —Ç–æ —É–≤–∏–¥–∏–º, —á—Ç–æ –≤—Ç–æ—Ä–æ–π —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –º–µ–º–æ–∏–∑–∞—Ü–∏—é. –≠—Ç–æ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –¥–æ–±–∞–≤–∏–≤ print –≤ `body` Collapsable (—Ö–æ—Ç—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è ‚Äî —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ SwiftUI, –∫–æ—Ç–æ—Ä–æ–µ –≤–µ–¥–µ—Ç —Å–µ–±—è –æ—á–µ–Ω—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º):

```
var body: some View {
  let _ = print("Evaluating body")
  // ...
}
```

https://swiftui-lab.com/equatableview/

–î–æ–±–∞–≤–∏–º **@State** –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ **ContentView** –∏ –∫–Ω–æ–ø–∫—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —ç—Ç—É –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –µ–≥–æ –∏–∑–º–µ–Ω–∏—Ç—å:

```
struct ContentView: View {
  @State var value: Int = 0
  @State var unrelated: Int = 0

  var body: some View {
    VStack {
      Collapsable {
        Text(value: "\(value)")
      }
      Button("Increase") { value += 1 }
      Button("Unrelated state (\(unrelated))") { unrelated += 1 }
    }
  }
}
```

–≠—Ç–æ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–º–æ–∂–µ—Ç –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ *–ø–µ—Ä–µ–æ—Ü–µ–Ω–∏–≤–∞—Ç—å body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏.*

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ–¥—Ö–æ–¥–∞ #1, —Ç–æ–ª—å–∫–æ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ ¬´–£–≤–µ–ª–∏—á–∏—Ç—å¬ª –≤—ã–≤–µ–¥–µ—Ç –Ω–∞ —ç–∫—Ä–∞–Ω ( –ø—Ä–∏ –ø–æ–º–æ—â–∏ –¥–æ–±–∞–ª–≤–µ–Ω–Ω–æ–≥–æ print‚Äôa)  ¬´Evaluating body¬ª. –ù–æ –ø—Ä–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–¥—Ö–æ–¥–∞ #2 –≤–∏–¥–Ω–æ, —á—Ç–æ –¥–∞–∂–µ –≤—Ç–æ—Ä–∞—è –∫–Ω–æ–ø–∫–∞ –≤—ã–∑—ã–≤–∞–µ—Ç **–ø–µ—Ä–µ–æ—Ü–µ–Ω–∫—É** **body** **–¥–ª—è –æ—Ç—Ä–∏—Å–≤–æ–∫–∏** Collapsable view. –Ø—Å–Ω–æ, —á—Ç–æ –º–µ–º–æ–∏–∑–∞—Ü–∏—è —Å–ª–æ–º–∞–ª–∞—Å—å, –Ω–æ –ø–æ—á–µ–º—É?

–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –ø—Ä–∏—á–∏–Ω–∞ –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞. –ß—Ç–æ–±—ã SwiftUI –º–æ–≥ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å, –µ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ **—Å—Ä–∞–≤–Ω–∏—Ç—å** **–≤—Ö–æ–¥–Ω—ã–µ** –¥–∞–Ω–Ω—ã–µ. –ù–æ –∑–∞–º—ã–∫–∞–Ω–∏—è –Ω–µ —è–≤–ª—è—é—Ç—Å—è **Equatable** –∏ SwiftUI –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ª–∏ —ç—Ç–æ **–∑–∞–∫—Ä—ã—Ç–∏–µ** —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π **–æ—Ü–µ–Ω–∫–∏ body –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏**.

–î–∞, –∑–∞–º—ã–∫–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –ï—Å—Ç—å —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏–µ. –¢–∞–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –∫–∞–∫ **ForEach**, –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –∏ –¥–æ–ª–∂–Ω—ã —Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–º—ã–∫–∞–Ω–∏–µ. –ù–æ –≤ –¥—Ä—É–≥–∏—Ö —Å–ª—É—á–∞—è—Ö - –ª—É—á—à–µ –Ω–µ –¥–µ–ª–∞—Ç—å —ç—Ç–æ–≥–æ. 

–•—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–º—ã–∫–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **view** –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äú–ø—Ä–æ—Å—Ç–æ view‚Äù - –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π. View ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∏ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—á–µ–Ω—å –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –æ–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç SwiftUI –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é.

> üìñ
> 
> –û–≥—Ä–æ–º–Ω–æ–µ —Å–ø–∞—Å–∏–±–æ –≤–æ—Ç —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –∑–∞ —Ç–∞–∫–æ–π –≤–µ—Å—å–º–∞ –≤–∞–∂–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∏ –Ω—é–∞–Ω—Å. [—Å—Å—ã–ª–∫–∞](https://rensbr.eu/blog/swiftui-escaping-closures/)

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª
- [Clojure Don‚Äôts: Lazy Effects](https://stuartsierra.com/2015/08/25/clojure-donts-lazy-effects)
- [Don't use escaping closures in SwiftUI](https://rensbr.eu/blog/swiftui-escaping-closures/)
- [Swift Closures Explained](https://www.youtube.com/watch?v=ND44vQ5iJyc&t=1s)
- [Swift. –£—Ä–æ–∫ 11: –ó–∞–º—ã–∫–∞–Ω–∏—è - –æ—Å–Ω–æ–≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è](https://www.youtube.com/watch?v=r99kIrhJDRY)
- [Swift 5 - –ó–∞–º—ã–∫–∞–Ω–∏—è (–∏–ª–∏ closures, –±–ª–æ–∫–∏, –ª—è–º–±–¥—ã)](https://www.youtube.com/watch?v=xChc880qvWE)
